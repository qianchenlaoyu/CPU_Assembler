

指令定义在instruction.txt文件中


指令项以每条指令为单位，也即一条指令一项定义
每条指令可以有多种定义，例如跳转地址可以写立即数或是使用标号
每项定义中包含三项数据，分别是指令名称、指令汇编输入格式、指令机器码输出格式

符号
    @           分隔符，相当于‘，’

输入类型
    OP          操作码，每条指令开头都代表操作码
    RS          源操作数寄存器
    RD          目的寄存器
    RT          源或者目的寄存器，由指令决定
    SA          移位操作位数
    immediate   16位立即数
    target      26位立即数
    offset      16位带符号偏移

    tab         地址标签
    #(x)..      立即数输入，可以是16进制、10进制、2进制，不限定位宽；x代表编号

输出类型
    OP          6位操作码
    RS          5位寄存器号
    RD          5位寄存器号
    RT          5位寄存器号
    SA          5位移位操作位数
    immediate   16位立即数
    target      26位立即数
    offset      16位带符号，相对于当前PC或其它指定的基址偏移
    x_offset    16位带符号，相对于基址偏移
    instr_index 26位带符号偏移
    base        5位寄存器号，用作基址
    hint
    func        6位扩展的操作码

    #..         2进制表式的立即数，位数不固定
    #(x)（n)..  2进制立即数，从输入表达式里取；x代表编号，n表示位宽
    tab(n)      地址标签，得到的结果为tab与当前PC值的偏移量	，n表示位宽





#ADD{     {ADD RD,RS,RT};             {#000000    RS        RT        RD #00000 #100000}    }
#ADDI{    {ADDI RT,RS,immediate};     {#001000    RS        RT        immediate}            }
#B{       {B tab};                    {#000100    #00000    #00000    tab(16)}              }
#LW{      {LW RT,offset@base};        {#100011    base      RT        offset}               }